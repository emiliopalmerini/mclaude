// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: pricing.sql

package sqlc

import (
	"context"
	"database/sql"
)

const createModelPricing = `-- name: CreateModelPricing :exec
INSERT INTO model_pricing (id, display_name, input_per_million, output_per_million, cache_read_per_million, cache_write_per_million, is_default, created_at)
VALUES (?, ?, ?, ?, ?, ?, ?, ?)
`

type CreateModelPricingParams struct {
	ID                   string          `json:"id"`
	DisplayName          string          `json:"display_name"`
	InputPerMillion      float64         `json:"input_per_million"`
	OutputPerMillion     float64         `json:"output_per_million"`
	CacheReadPerMillion  sql.NullFloat64 `json:"cache_read_per_million"`
	CacheWritePerMillion sql.NullFloat64 `json:"cache_write_per_million"`
	IsDefault            int64           `json:"is_default"`
	CreatedAt            string          `json:"created_at"`
}

func (q *Queries) CreateModelPricing(ctx context.Context, arg CreateModelPricingParams) error {
	_, err := q.db.ExecContext(ctx, createModelPricing,
		arg.ID,
		arg.DisplayName,
		arg.InputPerMillion,
		arg.OutputPerMillion,
		arg.CacheReadPerMillion,
		arg.CacheWritePerMillion,
		arg.IsDefault,
		arg.CreatedAt,
	)
	return err
}

const deleteModelPricing = `-- name: DeleteModelPricing :exec
DELETE FROM model_pricing WHERE id = ?
`

func (q *Queries) DeleteModelPricing(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, deleteModelPricing, id)
	return err
}

const getDefaultModelPricing = `-- name: GetDefaultModelPricing :one
SELECT id, display_name, input_per_million, output_per_million, cache_read_per_million, cache_write_per_million, is_default, created_at FROM model_pricing WHERE is_default = 1 LIMIT 1
`

func (q *Queries) GetDefaultModelPricing(ctx context.Context) (ModelPricing, error) {
	row := q.db.QueryRowContext(ctx, getDefaultModelPricing)
	var i ModelPricing
	err := row.Scan(
		&i.ID,
		&i.DisplayName,
		&i.InputPerMillion,
		&i.OutputPerMillion,
		&i.CacheReadPerMillion,
		&i.CacheWritePerMillion,
		&i.IsDefault,
		&i.CreatedAt,
	)
	return i, err
}

const getModelPricingByID = `-- name: GetModelPricingByID :one
SELECT id, display_name, input_per_million, output_per_million, cache_read_per_million, cache_write_per_million, is_default, created_at FROM model_pricing WHERE id = ?
`

func (q *Queries) GetModelPricingByID(ctx context.Context, id string) (ModelPricing, error) {
	row := q.db.QueryRowContext(ctx, getModelPricingByID, id)
	var i ModelPricing
	err := row.Scan(
		&i.ID,
		&i.DisplayName,
		&i.InputPerMillion,
		&i.OutputPerMillion,
		&i.CacheReadPerMillion,
		&i.CacheWritePerMillion,
		&i.IsDefault,
		&i.CreatedAt,
	)
	return i, err
}

const listModelPricing = `-- name: ListModelPricing :many
SELECT id, display_name, input_per_million, output_per_million, cache_read_per_million, cache_write_per_million, is_default, created_at FROM model_pricing ORDER BY display_name ASC
`

func (q *Queries) ListModelPricing(ctx context.Context) ([]ModelPricing, error) {
	rows, err := q.db.QueryContext(ctx, listModelPricing)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ModelPricing{}
	for rows.Next() {
		var i ModelPricing
		if err := rows.Scan(
			&i.ID,
			&i.DisplayName,
			&i.InputPerMillion,
			&i.OutputPerMillion,
			&i.CacheReadPerMillion,
			&i.CacheWritePerMillion,
			&i.IsDefault,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const setDefaultModelPricing = `-- name: SetDefaultModelPricing :exec
UPDATE model_pricing SET is_default = CASE WHEN id = ? THEN 1 ELSE 0 END
`

func (q *Queries) SetDefaultModelPricing(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, setDefaultModelPricing, id)
	return err
}

const updateModelPricing = `-- name: UpdateModelPricing :exec
UPDATE model_pricing
SET display_name = ?, input_per_million = ?, output_per_million = ?, cache_read_per_million = ?, cache_write_per_million = ?, is_default = ?
WHERE id = ?
`

type UpdateModelPricingParams struct {
	DisplayName          string          `json:"display_name"`
	InputPerMillion      float64         `json:"input_per_million"`
	OutputPerMillion     float64         `json:"output_per_million"`
	CacheReadPerMillion  sql.NullFloat64 `json:"cache_read_per_million"`
	CacheWritePerMillion sql.NullFloat64 `json:"cache_write_per_million"`
	IsDefault            int64           `json:"is_default"`
	ID                   string          `json:"id"`
}

func (q *Queries) UpdateModelPricing(ctx context.Context, arg UpdateModelPricingParams) error {
	_, err := q.db.ExecContext(ctx, updateModelPricing,
		arg.DisplayName,
		arg.InputPerMillion,
		arg.OutputPerMillion,
		arg.CacheReadPerMillion,
		arg.CacheWritePerMillion,
		arg.IsDefault,
		arg.ID,
	)
	return err
}
