// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: experiments.sql

package sqlc

import (
	"context"
	"database/sql"
)

const activateExperiment = `-- name: ActivateExperiment :exec
UPDATE experiments SET is_active = 1 WHERE id = ?
`

func (q *Queries) ActivateExperiment(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, activateExperiment, id)
	return err
}

const createExperiment = `-- name: CreateExperiment :exec
INSERT INTO experiments (id, name, description, hypothesis, started_at, ended_at, is_active, created_at, model_id, plan_type, notes)
VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`

type CreateExperimentParams struct {
	ID          string         `json:"id"`
	Name        string         `json:"name"`
	Description sql.NullString `json:"description"`
	Hypothesis  sql.NullString `json:"hypothesis"`
	StartedAt   string         `json:"started_at"`
	EndedAt     sql.NullString `json:"ended_at"`
	IsActive    int64          `json:"is_active"`
	CreatedAt   string         `json:"created_at"`
	ModelID     sql.NullString `json:"model_id"`
	PlanType    sql.NullString `json:"plan_type"`
	Notes       sql.NullString `json:"notes"`
}

func (q *Queries) CreateExperiment(ctx context.Context, arg CreateExperimentParams) error {
	_, err := q.db.ExecContext(ctx, createExperiment,
		arg.ID,
		arg.Name,
		arg.Description,
		arg.Hypothesis,
		arg.StartedAt,
		arg.EndedAt,
		arg.IsActive,
		arg.CreatedAt,
		arg.ModelID,
		arg.PlanType,
		arg.Notes,
	)
	return err
}

const deactivateAllExperiments = `-- name: DeactivateAllExperiments :exec
UPDATE experiments SET is_active = 0
`

func (q *Queries) DeactivateAllExperiments(ctx context.Context) error {
	_, err := q.db.ExecContext(ctx, deactivateAllExperiments)
	return err
}

const deactivateExperiment = `-- name: DeactivateExperiment :exec
UPDATE experiments SET is_active = 0 WHERE id = ?
`

func (q *Queries) DeactivateExperiment(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, deactivateExperiment, id)
	return err
}

const deleteExperiment = `-- name: DeleteExperiment :exec
DELETE FROM experiments WHERE id = ?
`

func (q *Queries) DeleteExperiment(ctx context.Context, id string) error {
	_, err := q.db.ExecContext(ctx, deleteExperiment, id)
	return err
}

const getActiveExperiment = `-- name: GetActiveExperiment :one
SELECT id, name, description, hypothesis, started_at, ended_at, is_active, created_at, model_id, plan_type, notes FROM experiments WHERE is_active = 1 LIMIT 1
`

func (q *Queries) GetActiveExperiment(ctx context.Context) (Experiment, error) {
	row := q.db.QueryRowContext(ctx, getActiveExperiment)
	var i Experiment
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Description,
		&i.Hypothesis,
		&i.StartedAt,
		&i.EndedAt,
		&i.IsActive,
		&i.CreatedAt,
		&i.ModelID,
		&i.PlanType,
		&i.Notes,
	)
	return i, err
}

const getExperimentByID = `-- name: GetExperimentByID :one
SELECT id, name, description, hypothesis, started_at, ended_at, is_active, created_at, model_id, plan_type, notes FROM experiments WHERE id = ?
`

func (q *Queries) GetExperimentByID(ctx context.Context, id string) (Experiment, error) {
	row := q.db.QueryRowContext(ctx, getExperimentByID, id)
	var i Experiment
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Description,
		&i.Hypothesis,
		&i.StartedAt,
		&i.EndedAt,
		&i.IsActive,
		&i.CreatedAt,
		&i.ModelID,
		&i.PlanType,
		&i.Notes,
	)
	return i, err
}

const getExperimentByName = `-- name: GetExperimentByName :one
SELECT id, name, description, hypothesis, started_at, ended_at, is_active, created_at, model_id, plan_type, notes FROM experiments WHERE name = ?
`

func (q *Queries) GetExperimentByName(ctx context.Context, name string) (Experiment, error) {
	row := q.db.QueryRowContext(ctx, getExperimentByName, name)
	var i Experiment
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Description,
		&i.Hypothesis,
		&i.StartedAt,
		&i.EndedAt,
		&i.IsActive,
		&i.CreatedAt,
		&i.ModelID,
		&i.PlanType,
		&i.Notes,
	)
	return i, err
}

const listExperiments = `-- name: ListExperiments :many
SELECT id, name, description, hypothesis, started_at, ended_at, is_active, created_at, model_id, plan_type, notes FROM experiments ORDER BY created_at DESC
`

func (q *Queries) ListExperiments(ctx context.Context) ([]Experiment, error) {
	rows, err := q.db.QueryContext(ctx, listExperiments)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Experiment{}
	for rows.Next() {
		var i Experiment
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Description,
			&i.Hypothesis,
			&i.StartedAt,
			&i.EndedAt,
			&i.IsActive,
			&i.CreatedAt,
			&i.ModelID,
			&i.PlanType,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateExperiment = `-- name: UpdateExperiment :exec
UPDATE experiments
SET name = ?, description = ?, hypothesis = ?, started_at = ?, ended_at = ?, is_active = ?, model_id = ?, plan_type = ?, notes = ?
WHERE id = ?
`

type UpdateExperimentParams struct {
	Name        string         `json:"name"`
	Description sql.NullString `json:"description"`
	Hypothesis  sql.NullString `json:"hypothesis"`
	StartedAt   string         `json:"started_at"`
	EndedAt     sql.NullString `json:"ended_at"`
	IsActive    int64          `json:"is_active"`
	ModelID     sql.NullString `json:"model_id"`
	PlanType    sql.NullString `json:"plan_type"`
	Notes       sql.NullString `json:"notes"`
	ID          string         `json:"id"`
}

func (q *Queries) UpdateExperiment(ctx context.Context, arg UpdateExperimentParams) error {
	_, err := q.db.ExecContext(ctx, updateExperiment,
		arg.Name,
		arg.Description,
		arg.Hypothesis,
		arg.StartedAt,
		arg.EndedAt,
		arg.IsActive,
		arg.ModelID,
		arg.PlanType,
		arg.Notes,
		arg.ID,
	)
	return err
}
